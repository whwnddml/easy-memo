(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8111:function(e,s,t){Promise.resolve().then(t.bind(t,1737))},1737:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return m}});var n=t(7437),r=t(2265),a=t(9376),i=t(8110),l=t(3443);function o(){let[e,s]=(0,r.useState)(""),[t,l]=(0,r.useState)(""),o=(0,a.useRouter)(),{login:d,isLoading:c,error:u,clearError:m}=(0,i.t)(),x=async s=>{s.preventDefault(),m(),e.trim()&&t.trim()&&await d(e,t)&&(i.t.getState().isAuthenticated=!0,o.push("/memos"))},h=()=>{o.push("/?mode=guest")};return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Easy Memo"}),(0,n.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"로그인하여 클라우드에 저장하거나 게스트로 이용하세요"})]}),(0,n.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:x,children:[(0,n.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"email",className:"sr-only",children:"이메일"}),(0,n.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"이메일 주소",value:e,onChange:e=>s(e.target.value),disabled:c})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"password",className:"sr-only",children:"패스워드"}),(0,n.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"패스워드",value:t,onChange:e=>l(e.target.value),disabled:c})]})]}),u&&(0,n.jsx)("div",{className:"text-red-600 text-sm text-center",children:u}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)("button",{type:"submit",disabled:c||!e.trim()||!t.trim(),className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"로그인 중...":"로그인"}),(0,n.jsx)("button",{type:"button",onClick:h,disabled:c,className:"group relative w-full flex justify-center py-2 px-4 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"게스트로 이용하기 (로컬 저장)"})]}),(0,n.jsxs)("div",{className:"text-center space-y-2",children:[(0,n.jsxs)("p",{className:"text-sm text-gray-600",children:["계정이 없으신가요?"," ",(0,n.jsx)("button",{type:"button",onClick:()=>{o.push("/signup")},className:"font-medium text-indigo-600 hover:text-indigo-500",children:"회원가입"})]}),(0,n.jsxs)("p",{className:"text-xs text-gray-500",children:["또는 회원가입 없이"," ",(0,n.jsx)("button",{type:"button",onClick:h,className:"font-medium text-indigo-600 hover:text-indigo-500 underline",children:"게스트 모드로 바로 시작"})]}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:(0,n.jsx)("button",{type:"button",onClick:()=>o.push("/password-reset-request"),className:"font-medium text-indigo-600 hover:text-indigo-500",children:"비밀번호 재설정"})})]})]})]})})}var d=t(3227),c=t(933);function u(){let{isAuthenticated:e,verifyToken:s,logout:t,user:u}=(0,i.t)(),{fetchMemos:m,clearMemos:x}=(0,l.j)(),h=(0,a.useSearchParams)();(0,a.useRouter)();let[p,g]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{(async()=>{await s()})()},[s]),(0,r.useEffect)(()=>{"guest"===h.get("mode")&&g(!0)},[h]),(0,r.useEffect)(()=>{e||p?m():x()},[e,p,m,x]),e||p)?(0,n.jsxs)("main",{className:"container",children:[(0,n.jsxs)("div",{className:"header",style:{flexDirection:"column",alignItems:"flex-start",gap:"8px"},children:[(0,n.jsx)("h1",{children:"EasyMemo"}),(0,n.jsx)("div",{className:"user-info",children:e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{children:["안녕하세요, ",null==u?void 0:u.email,"님!"]}),(0,n.jsx)("button",{onClick:()=>{x(),t(),g(!1),window.history.replaceState({},"","/")},className:"logout-btn",children:"로그아웃"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:"게스트 모드 (로컬 저장)"}),(0,n.jsx)("div",{className:"guest-actions",children:(0,n.jsx)("button",{onClick:()=>{g(!1),window.history.replaceState({},"","/")},className:"login-btn",children:"로그인하기"})})]})})]}),(0,n.jsx)(d.Z,{}),(0,n.jsx)(c.Z,{})]}):(0,n.jsx)("div",{children:(0,n.jsx)(o,{})})}function m(){return(0,n.jsx)(r.Suspense,{fallback:(0,n.jsx)("div",{className:"loading",children:"로딩 중..."}),children:(0,n.jsx)(u,{})})}}},function(e){e.O(0,[699,441,436,971,117,744],function(){return e(e.s=8111)}),_N_E=e.O()}]);